#!/usr/bin/env php
<?php

use ConventionalChangelog\Generator;

// Inclusions
$files = [
    __DIR__ . '/../../autoload.php',
    __DIR__ . '/../vendor/autoload.php',
    __DIR__ . '/vendor/autoload.php'
];
foreach ($files as $file) {
    if (file_exists($file)) {
        require_once $file;
        break;
    }
}

// Dev autoload
spl_autoload_register(function ($name) {
    $file = str_replace('\\', '', $name) . '.php';
    $file = str_replace(['ConventionalChangelog\\', '/'], DIRECTORY_SEPARATOR, $file);
    require_once $file;
});

// Report only fatal errors
error_reporting(2039);

// Run generator
$app = new Generator();
$app->run();